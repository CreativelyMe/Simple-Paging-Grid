(function(c){function a(d,f){var j=d;var h=/\{.*?\}/;var g=h.exec(j);var i;var l;var e;var k;while(g!=null){e=g[0].substr(1,g[0].length-2);i=j.substr(0,g.index);l=j.substr(g.index+g[0].length);k=f[e];j=i+k+l;g=h.exec(j)}return j}function b(f,e,d){return f.slice(e*d,e*d+d)}c.fn.simplePagingGrid=function(d){var e=c.extend({pageSize:10,columnWidths:[],columnLinks:null,sortable:[],sortOrder:"asc",initialSortColumn:null,tableClass:"table"},d);return this.each(function(){var u;var g;var v;var r;var x;var n;var t=0;var j;var i;var o;var k;var q=false;var s=e.sortOrder;var p=e.initialSortColumn;var w=null;var l=c(this);function m(){if(q){i.attr("disabled","disabled");o.attr("disabled","disabled")}else{if(t===0){i.attr("disabled","disabled")}else{i.removeAttr("disabled")}if(k.length<e.pageSize){o.attr("disabled","disabled")}else{o.removeAttr("disabled")}}}function h(){var z;var y;var A;if(x!==null){z=p===null?x:x.sort(function(C,B){y=s==="asc"?C[p]:B[p];A=s==="asc"?B[p]:C[p];if(c.isNumeric(y)){if(y<A){return 1}else{if(y>A){return -1}}return 0}return y.localeCompare(A)});k=b(z,t,e.pageSize);f();m()}else{if(n!==null){q=true;m();c.getJSON(n,{page:t,pageSize:e.pageSize,sortColumn:p,sortOrder:s},function(B){k=B;f();q=false;m()})}}}function f(){g.empty();c.each(k,function(A,z){var y=c("<tr>");c.each(e.columnKeys,function(C,B){var E=c("<td>");var D;if(e.columnLinks!==null&&e.columnLinks.length>C&&e.columnLinks[C]!==null){D=c("<a>");D.html(z[B]);D.attr("href",a(e.columnLinks[C],z));E.append(D)}else{E.html(z[B])}y.append(E)});g.append(y)})}if(e.hasOwnProperty("data")){x=e.data;n=null}else{x=null;n=e.dataUrl}u=c("<table><thead><tr></tr></thead><tbody></tbody></table>");v=u.find("thead").find("tr");g=u.find("tbody");c.each(e.columnNames,function(B,z){var F=e.sortable[B];var A;var D;var y;var E=e.columnKeys[B];r=c("<th>");if(e.columnWidths.length>B){r.attr("width",e.columnWidths[B])}if(F){A=c("<ul>").addClass("sort");D=c("<li>").addClass("sort-ascending").appendTo(A);y=c("<li>").addClass("sort-descending").appendTo(A);r.append(A);c("<span>").html(z).appendTo(r);function C(G){G.preventDefault();if(p===E){s=s==="asc"?"desc":"asc"}p=E;if(w!=null){w.removeClass("sort-ascending-active");w.removeClass("sort-descending-active")}w=s==="asc"?D:y;w.addClass(s==="asc"?"sort-ascending-active":"sort-descending-active");h()}D.click(function(G){C(G)});y.click(function(G){C(G)})}else{r.html(z)}v.append(r)});u.addClass(e.tableClass);j=c('<div><button class="btn">&laquo; Prev</button><button class="btn pull-right">Next &raquo</button></div>');i=j.find("button").first();o=j.find("button").last();i.click(function(y){y.preventDefault();if(t>0){t--;h()}});o.click(function(y){y.preventDefault();if(k.length===e.pageSize){t++;h()}});h();l.append(u);l.append(j);l.append(c('<div class="clearfix"></div>'));return this})}})(jQuery);